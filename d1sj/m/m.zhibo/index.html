<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <meta name="description" content="不超过150个字符" />
    <meta name="keywords" content="" />
    <meta content="caibaojian" name="author" />
    <title>index</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/video-js.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/rem.js"></script>
    <style>
        .video-js .vjs-progress-control,
        .video-js .vjs-time-control,
        .video-js .vjs-volume-panel,
        .video-js .vjs-play-control {
            display: none;
        }

        .video-js .vjs-fullscreen-control {
            margin-left: auto;
        }
    </style>
</head>

<body>
    <div class="hd">
        <video id="my-video" class="video video-js vjs-big-play-centered" autoplay controls preload="auto" poster="m.jpg" data-setup="{}">
            <source src="http://replayqn.wangxiao.eaydu.com/livecourse/306746_02.mp4" type="video/mp4">
            <source src="http://replayqn.wangxiao.eaydu.com/livecourse/306746_02.webm" type="video/webm">
            <source src="http://replayqn.wangxiao.eaydu.com/livecourse/306746_02.ogv" type="video/ogg">
            <p class="vjs-no-js"> To view this video please enable JavaScript, and consider upgrading to a web browser that
                <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
            </p>
        </video>
    </div>
    <div class="bd">
        <div class="con" id="scrolldIV">
        </div>
    </div>
    <div class="operation">
        <input type="text" placeholder="说点什么吧..." onchange="bindInput(this)">
        <a href="javascript:;" class="sava_btn" onclick="savaData()">确定</a>
    </div>
</body>
<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<script src="js/video.min.js"></script>
<script>
    var myPlayer = videojs('my-video');
    myPlayer.play();
    videojs("my-video").ready(function () {
        var myPlayer = this;
        myPlayer.play();
        myPlayer.currentTime(60);
    });

    myPlayer.on("ended", function () {
        alert(1111111111)
    });


    var data = [
        {
            "name": "吴亦凡",
            "con": "666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666",
            "img": "https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=3328833007,2511671815&fm=58&bpow=626&bpoh=882"
        },
        {
            "name": "杨超越",
            "con": "燃烧我的卡路里！！！",
            "img": "https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1910173974,2425346557&fm=58&bpow=2430&bpoh=3240"
        },
        {
            "name": "MC天佑",
            "con": "感谢老铁送来的火箭，666666",
            "img": "https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=767204876,2163110523&fm=179&app=42&f=JPEG?w=121&h=140"
        },
    ]

    var flag = true;
    var a = 0;
    var b = data.length;
    var inpVal = "";

    var timer = function () {
        var that = this;
        if (a == b) {
            return;
        }
        var nHtml = `<div class="item">
                <div class="img" style="background-image: url(${data[a].img});"></div>
                <div class="info">
                    <div class="name">${data[a].name}</div>
                    <div class="txt">${data[a].con}</div>
                </div>
            </div>`
        $(".con").append(nHtml)
        var div = document.getElementById('scrolldIV');
        div.scrollTop = div.scrollHeight;
        a++
    }
    setInterval(timer, 1500)

    setInterval(function () {
        data.push({
            "name": "蔡徐坤",
            "con": "我是实习两年半的.......篮球...鸡你太美........",
            "img":"https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/crop%3D0%2C1%2C1000%2C660%3Bc0%3Dbaike116%2C5%2C5%2C116%2C38/sign=b04511988bd6277ffd5d687815083301/5bafa40f4bfbfbed9c20b35c74f0f736afc31f93.jpg"
        })
        b = data.length
    }, 500)
    function bindInput(e) {
        inpVal = e.value
    }

    function savaData() {
        if (inpVal == "") {
            alert("请输入内容")
            return
        }
        if (!flag) {
            alert("请不要刷屏")
            return
        }

        var nHtml = `<div class="item">
                <div class="img" style="background-image: url(https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1366326655,412860124&fm=58&bpow=407&bpoh=529);"></div>
                <div class="info">
                    <div class="name">吴彦祖</div>
                    <div class="txt">${inpVal}</div>
                </div>
            </div>`
        $(".con").append(nHtml)
        var div = document.getElementById('scrolldIV');
        div.scrollTop = div.scrollHeight;



        flag = false;
        inpVal = "";
        $("input").val("");
        setTimeout(function () {
            flag = true;
        }, 2000)



    }

</script>

</html>